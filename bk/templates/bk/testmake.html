{% extends 'jgbase.html' %}
{% load static %}
{% block title %}テスト作成{% endblock %}
{% block bland %}テスト作成{% endblock %}
{% block a2 %}active{% endblock %}
{% block main %}

<div class="row">
    <div class="col-md-12">
        <form class="form-inline">
            <div class="form-group">
                <label style="margin-left:10px;">試験:</label>
                <select id="q_test" class="form-control">
                    {% for test in q_test %}
                    {% if test.q_test == 'fe' %}
                    <option value="{{ test.q_test }}" selected>{{ test.q_test }}</option>
                    {% else %}
                    <option value="{{ test.q_test }}">{{ test.q_test }}</option>
                    {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="l_class" style="margin-left:10px;">大分類:</label>
                <select id="l_class" style="width:180px;font-size:9pt" class="form-control">
                    {% for l_class in l_class_list %}
                    <option value="{{ l_class.l_id }}">{{ l_class.l_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="m_class" style="margin-left:10px;">中分類</label>
                <select id="m_class" style="width:180px;font-size:9pt" class="form-control"></select>
            </div>
            <div class="form-group">
                <label for="s_class" style="margin-left:10px;">小分類</label>
                <select id="s_class" style="width:180px;font-size:9pt" class="form-control"></select>
            </div>

        </form>
    </div>
</div>

<!--分野選択-->
<div class="row" style="margin-top:20px;">
    <!--全問題-->
    <div class="col-md-4">
        <form class="form-inline">
            <div class="form-group" style="margin-left:3px;">
                <input type="button" id="q_add" value="追加" style="font-size:9pt;">
            </div>
            <div class="form-group" style="margin-left:3px;">
                <input type="button" id="q_renew" value="入替" style="font-size:9pt;">
            </div>
            <dev class="form-group" style="margin-left:3px;">
                <input type="text" id="q_filter_text" size="10" style="font-size:9pt;">
            </dev>
            <dev class="form-group" style="margin-left:3px;">
                <input type="button" id="q_filter_button" value="フィルタ" style="font-size:9pt;">
            </dev>
        </form>
        <div id="qcnt1">問題数:0</div>
        <select id="question" size="20" class="form-control"></select>
        <!--<table id="question" style="font-size:9pt;" class="table table-condensed"></table>-->
    </div>

    <!--選択前問題-->
    <div class="col-md-4">
        <div class="form-group">
            <form class="form-inline">
                <label style="margin-left:10px;">問題数:</label>
                <select id="q_quantity" style="font-size:9pt;">
                    <option value="0">全て</option>
                    <option value="10">10問</option>
                    <option value="15">15問</option>
                    <option value="20">20問</option>
                    <option value="25">25問</option>
                    <option value="30">30問</option>
                    <option value="40">40問</option>
                    <option value="80">80問</option>
                </select>
                <input type="button" value="問題表示" id="q_select" style="margin-left:3px;font-size:9pt;">
            </form>
        </div>

        <div id="a_qcnt">選択した問題数:0</div>
        <select id="a_que" size="20" class="form-control"></select>
        <!--<table id="a_que" style="font-size:9pt;" class="table table-condensed"></table>-->
    </div>

    <!--テストにする問題-->
    <div class="col-md-4">
        <form class="form-inline">
            <div class="form-group" style="margin-left:10px;">
                <input type="button" style="font-size:9pt;" id="q_modal" value="問題確認" data-toggle="modal" data-target="#modal-question">
            </div>
            <div class="form-group" style="margin-left:10px;">
                <input type="button" style="font-size:9pt;" id="q_make" value="テスト作成" data-toggle="modal" data-target="#modal-progress">
            </div>
        </form>
        <div id="qcnt2">テスト問題数:0</div>
        <select id="sq" size="20" class="form-control"></select>
        <!--<table id="sq" style="font-size:9pt;" class="table table-condensed"></table>-->
    </div>
</div>
{% csrf_token %}
<!--モーダル-->
<div class="modal" id="modal-question" tabindex="-1" style="position:fixed;top:10px;left:10px;">
    <div class="modal-dialog">
        <div class="modal-content" style="width:800px">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <table id="msq" style="font-size:9pt;" class="table table-condensed"></table>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="modal-progress" tabindex="-1" style="position:fixed;top:10px;left:10px;">
    <div class="modal-dialog">
        <div class="modal-content" style="width:800px">
            <div class="modal-body">作成中です。しばらくお待ちください</div>
        </div>
    </div>
</div>
{% endblock %}
{% block script %}
<script type="text/javascript" src="{% static 'jg/js/testmake.js' %}" charset="utf-8"></script>
{% endblock %}